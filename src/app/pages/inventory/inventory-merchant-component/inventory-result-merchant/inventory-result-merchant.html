<!-- merchant-inventory.component.html -->
<div class="container" dir="rtl">
    <header>
        <h1>{{ translations.title }}</h1>
        <p class="subtitle">{{ translations.subtitle }}</p>
    </header>
    
    <div class="merchant-info">
        <div class="merchant-header">
            <div>
                <h2 class="merchant-name">{{ merchantData.merchantName }}</h2>
            </div>
        </div>
        
        <div class="financial-summary">
            <div class="financial-card expenses">
                <div class="financial-label">{{ translations.trxLen }}</div>
                <div class="financial-value">{{ merchantData.transactions.length}}</div>
            </div>
            <div class="financial-card sales">
                <div class="financial-label">{{ translations.totalSales }}</div>
                <div class="financial-value">{{ commonServices.formatCurrency(merchantData.totalSales) }}</div>
            </div>
            <div class="financial-card expenses">
                <div class="financial-label">{{ translations.totalExpenses }}</div>
                <div class="financial-value">{{ commonServices.formatCurrency(merchantData.totalExpenses) }}</div>
            </div>
            <div class="financial-card net">
                <div class="financial-label">{{ translations.netBalance }}</div>
                <div class="financial-value" [class.net-positive]="merchantData.netBalance >= 0" 
                     [class.net-negative]="merchantData.netBalance < 0">
                    {{ commonServices.formatCurrency(merchantData.netBalance) }}
                </div>
            </div>
        </div>
    </div>
    
    <h2 class="section-title">{{ translations.recentTransactions }}</h2>
    <div class="transactions-section">
        <div *ngIf="merchantData.transactions.length > 0; else noTransactions">
           <app-transaction-table [data]="merchantData.transactions"/>
        </div>
        
        <ng-template #noTransactions>
            <div class="empty-state">
                <i>ðŸ“Š</i>
                <p>{{ translations.noTransactions }}</p>
            </div>
        </ng-template>
    </div>
    
    <h2 class="section-title">{{ translations.expenseDetails }}</h2>
    <div class="expenses-section">
        <table id="expenses-table" *ngIf="merchantData.merchantExpenses.length > 0; else noExpenses">
            <thead>
                <tr>
                    <th>{{ translations.date }}</th>
                    <th>{{ translations.category }}</th>
                    <th>{{ translations.description }}</th>
                    <th>{{ translations.amount }}</th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let expense of merchantData.merchantExpenses">
                    <td>{{ formatDate(expense.date) }}</td>
                    <td>{{ expense.category }}</td>
                    <td>{{ expense.description }}</td>
                    <td class="amount-negative">{{ commonServices.formatCurrency(expense.amount) }}</td>
                </tr>
            </tbody>
        </table>
        
        <ng-template #noExpenses>
            <div class="empty-state">
                <i>ðŸ’°</i>
                <p>{{ translations.noExpenses }}</p>
            </div>
        </ng-template>
    </div>
</div>